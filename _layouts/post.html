<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    {% seo %}
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        tailwind.config = { darkMode: 'class' }
    </script>
    <style>
        @import url('https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@700&family=Noto+Sans+SC:wght@400;500&display=swap');
        
        body { 
            font-family: 'Noto Sans SC', sans-serif; 
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        .serif { font-family: 'Noto Serif SC', serif; }

        /* 针对 prose 的细微调整，确保顶部没有多余间距并适配暗黑模式 */
        .prose h1:first-child, 
        .prose p:first-child { 
            margin-top: 0 !important; 
        }

        /* 自定义浅色背景色调 */
        .bg-soft-green { background-color: #f0f9f4; }
        .dark .bg-soft-green { background-color: #111827; } /* 对应 gray-900 */
    </style>
</head>
<body class="bg-soft-green text-gray-800 dark:text-gray-100 antialiased">
    <!-- 导航栏：适配暗黑模式 -->
    <nav class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border-b border-green-100/50 dark:border-gray-800 px-6 py-4 sticky top-0 z-10">
        <div class="max-w-4xl mx-auto flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <a href="/" class="p-2 rounded-xl bg-white dark:bg-gray-800 border border-green-100 dark:border-gray-700 text-green-700 dark:text-green-400 hover:bg-green-50 dark:hover:bg-gray-700 hover:scale-105 transition-all shadow-sm flex items-center justify-center" title="返回首页">
                    <i data-lucide="home" class="w-5 h-5"></i>
                </a>
            </div>

            <div class="flex items-center space-x-4">
                <span class="text-[10px] text-green-600/40 dark:text-green-400/30 tracking-[0.3em] uppercase font-bold">Reading Log</span>
                <!-- 主题切换按钮 -->
                <button id="themeToggle" class="p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                    <i data-lucide="sun" class="hidden dark:block w-5 h-5 text-yellow-400"></i>
                    <i data-lucide="moon" class="block dark:hidden w-5 h-5 text-gray-600"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- 主体内容 -->
    <main class="max-w-4xl mx-auto px-6 py-12 md:py-16">
        <!-- 文章页头部信息 -->
        <header class="mb-12 text-center">
            <div class="inline-block px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-bold rounded-full mb-4 uppercase tracking-widest">
                {{ page.category | default: "随笔" }}
            </div>
            <h1 class="text-3xl md:text-5xl font-bold serif mb-6 text-gray-900 dark:text-white leading-tight">{{ page.title }}</h1>
            
            <div class="flex items-center justify-center text-gray-500 dark:text-gray-400 text-sm space-x-6">
                <span class="flex items-center">
                    <i data-lucide="calendar" class="w-4 h-4 mr-2 text-green-500"></i>
                    {{ page.date | date: "%Y年%m月%d日" }}
                </span>
                <span class="flex items-center">
                    <i data-lucide="user" class="w-4 h-4 mr-2 text-green-500"></i>
                    我什么都读
                </span>
            </div>
        </header>

        <!-- 正文内容：白色卡片包裹感，适配暗黑模式 -->
        <article class="bg-white dark:bg-gray-800 rounded-[2.5rem] p-8 md:p-14 shadow-sm border border-green-50/50 dark:border-gray-700 prose dark:prose-invert lg:prose-xl max-w-none">
            {{ content }}
        </article>

        <!-- 版权声明区域 -->
        <footer class="mt-20 pb-12 text-center">
            <!-- 装饰性分割线 -->
            <div class="flex items-center justify-center space-x-4 mb-8">
                <div class="h-[1px] w-12 bg-green-200 dark:bg-green-900"></div>
                <div class="text-green-300 dark:text-green-700"><i data-lucide="leaf" class="w-4 h-4"></i></div>
                <div class="h-[1px] w-12 bg-green-200 dark:bg-green-900"></div>
            </div>
            
            <!-- 版权文字 -->
            <div class="space-y-2">
                <p class="text-gray-500 dark:text-gray-400 font-medium">
                    © {{ "now" | date: "%Y" }} <span class="text-green-700 dark:text-green-400">我什么都读</span> 的个人日志
                </p>
                <p class="text-gray-400 dark:text-gray-600 text-xs tracking-wider uppercase">
                    All Rights Reserved.
                </p>
                <p class="text-xs mt-4 text-green-600/60 dark:text-green-400/40 font-medium italic">
                    “记录成长，说点梦话，保持对世界的好奇心”
                </p>
            </div>
        </footer>
    </main>

    <script>
        // 初始化 Lucide 图标
        lucide.createIcons();

        // 暗黑模式切换逻辑
        const themeToggle = document.getElementById('themeToggle');
        // 检查本地存储
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }

        themeToggle.onclick = () => {
            const isDark = document.documentElement.classList.toggle('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        };
    </script>
</body>
</html>
